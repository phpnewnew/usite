<?phpinclude("../../../dao/sto_type_dao.php");include("../../../dao/sto_cat_dao.php"); $callback = $_GET["callback"]; $ptid = $_GET["ptid"];  $ptid = htmlspecialchars($ptid); $ms = $stoTypeDAO->findTypesByWhere("where parentid=".$ptid);  $fs = $stoCatDAO->findCatsByWhere("where ptypeid=".$ptid); $count2 =1; $catstrs =""; foreach ($fs as $cat) {	if($count2>1){		$catstrs.= ',';	}		$catstrs.= '{"catname":"' . $cat->catname . '","id":"' . $cat->id . '"}';	$count2 = $count2+1;} echo $callback.'({"cats":['.$catstrs.'],"items":[';    $count =1;    foreach ($ms as $type) {        if($count>1){         echo ',';        }				echo '{"typename":"' . $type->typename . '","id":"' . $type->id . '"}';        $count = $count+1;    } echo ']})';?>